(function(e){function t(t){for(var r,a,c=t[0],o=t[1],u=t[2],m=0,g=[];m<c.length;m++)a=c[m],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(g.length)g.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"7d05":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),i={id:"app"};function s(e,t,n,s,a,c){var o=Object(r["i"])("game");return Object(r["g"])(),Object(r["c"])("div",i,[Object(r["e"])(o)])}var a={key:0},c=Object(r["e"])("div",{class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},[Object(r["e"])("div",null,[Object(r["e"])("h1",null,[Object(r["e"])("span",{class:"badge badge-secondary"},"GAME OVER")])])],-1),o={key:1},u={style:{"margin-top":"25px"},class:"d-flex justify-content-center"},l={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},m=Object(r["e"])("div",null,[Object(r["e"])("h1",null,[Object(r["e"])("span",{class:"badge badge-secondary"},"YOU WON!")])],-1),g={class:"d-flex justify-content-center align-items-center",style:{height:"100px"}};function h(e,t,n,i,s,h){var b=Object(r["i"])("item");return Object(r["g"])(),Object(r["c"])(r["a"],null,[e.game.isGameOver?(Object(r["g"])(),Object(r["c"])("div",a,[c])):(Object(r["g"])(),Object(r["c"])("div",o,[Object(r["e"])("div",u,[(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["h"])(e.game.items,(function(t,n){return Object(r["g"])(),Object(r["c"])(b,{onClick:function(t){return e.onClick(n)},key:n,sliceCount:e.game.sliceCount,indexes:t,isCurrent:e.isCurrent(n)&&!e.game.isFirstStep},null,8,["onClick","sliceCount","indexes","isCurrent"])})),128))]),e.isWin?(Object(r["g"])(),Object(r["c"])("div",l,[m])):Object(r["d"])("",!0)])),Object(r["e"])("div",g,[Object(r["e"])("button",{class:"btn btn-lg btn-dark",onClick:t[1]||(t[1]=function(t){return e.startNewGame()})}," START NEW GAME ")])],64)}n("159b"),n("a434"),n("cb29");var b={class:"card-body"},f={class:"d-flex flex-column"};function d(e,t,n,i,s,a){return Object(r["g"])(),Object(r["c"])("div",{class:["card",e.isCurrent?"border border-dark":{}]},[Object(r["e"])("div",b,[Object(r["e"])("div",f,[(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["h"])(e.colors,(function(t,n){return Object(r["g"])(),Object(r["c"])("div",{key:n,style:{width:"50px",height:"50px"},class:[e.getClass(t),"p-2"]},null,2)})),128))])])],2)}n("a9e3");var p=Object(r["f"])({name:"item",props:{indexes:Array,sliceCount:Number,isCurrent:Boolean},computed:{colors:function(){for(var e=[],t=0;t<this.sliceCount-this.indexes.length;t++)e.push(-1);for(var n=0;n<this.indexes.length;n++)e.push(this.indexes[n]);return e}},methods:{getClass:function(e){var t;switch(e){case-1:t="bg-white";break;case 0:t="bg-primary";break;case 1:t="bg-secondary";break;case 2:t="bg-success";break;case 3:t="bg-danger";break;case 4:t="bg-warning";break;case 5:t="bg-info";break;case 6:t="bg-add-color-1";break;case 7:t="bg-add-color-2";break;case 8:t="bg-add-color-3";break}return t}}}),v=n("d959"),O=n.n(v);const j=O()(p,[["render",d]]);var y=j,C=n("d4ec"),k=n("bee2"),x=function(){function e(){Object(C["a"])(this,e)}return Object(k["a"])(e,[{key:"getRandomInt",value:function(e,t){return t=t||0,t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}}]),e}(),w=new x,I=Object(r["f"])({name:"game",components:{Item:y},data:function(){return{game:{}}},computed:{isWin:function(){var e=!0;return this.game.items&&this.game.items.forEach((function(t){return e=e&&t.every((function(e,t,n){return e===n[0]}))})),e}},methods:{onClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isCorrectColumn(e))if(this.game.isFirstStep){var n=this.getLastEmptyIdx(this.game.items[e]);if(n==this.game.sliceCount-1)return;this.game.isFirstStep=!1,this.game.currentItem=e}else{if(e==this.game.currentItem)return void(this.game.isFirstStep=!0);var r=this.getLastEmptyIdx(this.game.items[e]);if(void 0==r)return;var i=this.game.items[this.game.currentItem],s=this.getLastEmptyIdx(i);s=s||0==s?s+1:0;var a=this.game.items[this.game.currentItem][s];if(!t&&this.getLengthByColor(s)>r+1)return;if(a!=this.game.items[e][r+1]&&r!=this.game.sliceCount-1)return;this.game.items[this.game.currentItem].splice(s,1,-1),this.game.items[e].splice(r,1,a),a==this.game.items[this.game.currentItem][s+1]&&this.onClick(e,!0),this.game.isFirstStep=!0}},isCorrectColumn:function(e){var t=this.game.items,n=-1!=t[e][0];return n&&t[e].every((function(e,t,n){return e===n[0]}))},init:function(){console.log("init"),this.game.sliceCount=4,this.startNewGame()},getLengthByColor:function(e){var t=1,n=this.game.items[this.game.currentItem][e],r=!0,i=e+1;while(r){if(n!=this.game.items[this.game.currentItem][i])break;i++,t++}return t},getLastEmptyIdx:function(e){for(var t,n=0;n<e.length;n++)e[n]<0&&(t=n);return t},startNewGame:function(){this.game.itemCount=w.getRandomInt(11,6),this.game.colorCount=this.game.itemCount-2,this.game.isGameOver=!1,this.game.isFirstStep=!0,this.game.items=[];for(var e=[],t=0;t<this.game.colorCount;t++)e[t]=this.game.sliceCount;for(var n=0;n<this.game.colorCount;n++){for(var r=[],i=0;i<this.game.sliceCount;i++){var s=void 0,a=!0;while(a)if(s=Math.floor(Math.random()*this.game.colorCount),e[s]>0){e[s]--,a=!1;break}r.push(s)}this.game.items.push(r)}this.game.items.push(new Array(this.game.sliceCount).fill(-1)),this.game.items.push(new Array(this.game.sliceCount).fill(-1))},isCurrent:function(e){return this.game.currentItem==e}},mounted:function(){this.init()}});const M=O()(I,[["render",h]]);var S=M,E=Object(r["f"])({name:"App",components:{Game:S}});const G=O()(E,[["render",s]]);var A=G;n("4989"),n("ab8b"),n("7d05");Object(r["b"])(A).mount("#app")}});
//# sourceMappingURL=app.f4c53935.js.map